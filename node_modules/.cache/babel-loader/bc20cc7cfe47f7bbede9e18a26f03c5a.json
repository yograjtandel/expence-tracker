{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nconst initialState = {\n  id: null,\n  title: null,\n  amount: null,\n  date: null\n};\nconst ExpencesSlice = createSlice({\n  name: \"Expences\",\n  initialState,\n  reducers: {\n    add(expence) {},\n\n    filter(year) {}\n\n  }\n});\nexport const AddExpence = email => {\n  // const ctx = useContext(AuthContext);\n  // debugger\n  return async () => {\n    // console.log(ctx.email);\n    const data = await fetch(`https://expencetracker-b3897-default-rtdb.firebaseio.com/users.json?\"email\"&equalTo${email}`);\n    data.json().then(async data => {\n      let userId = null;\n      debugger;\n\n      if (!data) {\n        const user = await fetch(\"https://expencetracker-b3897-default-rtdb.firebaseio.com/users.json\", {\n          method: \"post\",\n          body: JSON.stringify({\n            email: localStorage.getItem(\"email\")\n          }),\n          headers: {\n            \"Content-Type\": \"Application/Json\"\n          }\n        });\n        const id = user.json().then(user => {\n          debugger;\n          return user[\"name\"];\n        });\n        userId = id;\n      }\n    });\n    debugger;\n  };\n};\n_c = AddExpence;\nexport default ExpencesSlice;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddExpence\");","map":{"version":3,"sources":["/home/yta-odoo/Documents/pic/recat practice/expence-tracker/src/store/expences-slice.js"],"names":["createSlice","initialState","id","title","amount","date","ExpencesSlice","name","reducers","add","expence","filter","year","AddExpence","email","data","fetch","json","then","userId","user","method","body","JSON","stringify","localStorage","getItem","headers"],"mappings":"AAAA,SAASA,WAAT,QAA4B,kBAA5B;AAEA,MAAMC,YAAY,GAAG;AACnBC,EAAAA,EAAE,EAAE,IADe;AAEnBC,EAAAA,KAAK,EAAE,IAFY;AAGnBC,EAAAA,MAAM,EAAE,IAHW;AAInBC,EAAAA,IAAI,EAAE;AAJa,CAArB;AAMA,MAAMC,aAAa,GAAGN,WAAW,CAAC;AAChCO,EAAAA,IAAI,EAAE,UAD0B;AAEhCN,EAAAA,YAFgC;AAGhCO,EAAAA,QAAQ,EAAE;AACRC,IAAAA,GAAG,CAACC,OAAD,EAAU,CAAE,CADP;;AAERC,IAAAA,MAAM,CAACC,IAAD,EAAO,CAAE;;AAFP;AAHsB,CAAD,CAAjC;AASA,OAAO,MAAMC,UAAU,GAAIC,KAAD,IAAW;AACnC;AACA;AACA,SAAO,YAAY;AACjB;AACA,UAAMC,IAAI,GAAG,MAAMC,KAAK,CACrB,sFAAqFF,KAAM,EADtE,CAAxB;AAGAC,IAAAA,IAAI,CAACE,IAAL,GAAYC,IAAZ,CAAiB,MAAOH,IAAP,IAAgB;AAC/B,UAAII,MAAM,GAAG,IAAb;AACA;;AACA,UAAI,CAACJ,IAAL,EAAW;AACT,cAAMK,IAAI,GAAG,MAAMJ,KAAK,CACtB,qEADsB,EAEtB;AACEK,UAAAA,MAAM,EAAE,MADV;AAEEC,UAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBV,YAAAA,KAAK,EAAEW,YAAY,CAACC,OAAb,CAAqB,OAArB;AADY,WAAf,CAFR;AAKEC,UAAAA,OAAO,EAAE;AACP,4BAAgB;AADT;AALX,SAFsB,CAAxB;AAYA,cAAMzB,EAAE,GAAGkB,IAAI,CAACH,IAAL,GAAYC,IAAZ,CAAkBE,IAAD,IAAU;AACpC;AACA,iBAAOA,IAAI,CAAC,MAAD,CAAX;AACD,SAHU,CAAX;AAIAD,QAAAA,MAAM,GAAGjB,EAAT;AACD;AACF,KAtBD;AAuBA;AACD,GA7BD;AA8BD,CAjCM;KAAMW,U;AAmCb,eAAeP,aAAf","sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\n\nconst initialState = {\n  id: null,\n  title: null,\n  amount: null,\n  date: null,\n};\nconst ExpencesSlice = createSlice({\n  name: \"Expences\",\n  initialState,\n  reducers: {\n    add(expence) {},\n    filter(year) {},\n  },\n});\n\nexport const AddExpence = (email) => {\n  // const ctx = useContext(AuthContext);\n  // debugger\n  return async () => {\n    // console.log(ctx.email);\n    const data = await fetch(\n      `https://expencetracker-b3897-default-rtdb.firebaseio.com/users.json?\"email\"&equalTo${email}`\n    );\n    data.json().then(async (data) => {\n      let userId = null;\n      debugger;\n      if (!data) {\n        const user = await fetch(\n          \"https://expencetracker-b3897-default-rtdb.firebaseio.com/users.json\",\n          {\n            method: \"post\",\n            body: JSON.stringify({\n              email: localStorage.getItem(\"email\"),\n            }),\n            headers: {\n              \"Content-Type\": \"Application/Json\",\n            },\n          }\n        );\n        const id = user.json().then((user) => {\n          debugger;\n          return user[\"name\"];\n        });\n        userId = id;\n      }\n    });\n    debugger;\n  };\n};\n\nexport default ExpencesSlice;\n"]},"metadata":{},"sourceType":"module"}