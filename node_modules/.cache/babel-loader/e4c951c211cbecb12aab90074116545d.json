{"ast":null,"code":"import _slicedToArray from\"/home/yta-odoo/Documents/expence-tracker/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";import{useDispatch}from\"react-redux\";import Card from\"./UI/Card\";import\"./NewExpense.css\";import{AddExpence}from\"../../store/expences-slice\";import{ExpencesAction}from\"../../store/expences-slice\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function NewExpense(props){var _useState=new useState(\"\"),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=new useState(\"\"),_useState4=_slicedToArray(_useState3,2),amount=_useState4[0],setAmount=_useState4[1];var _useState5=new useState(\"\"),_useState6=_slicedToArray(_useState5,2),date=_useState6[0],setDate=_useState6[1];var _useState7=new useState(\"other\"),_useState8=_slicedToArray(_useState7,2),category=_useState8[0],setCategory=_useState8[1];var _useState9=new useState(null),_useState10=_slicedToArray(_useState9,2),bill=_useState10[0],setBill=_useState10[1];var dispatch=useDispatch();var titleHandler=function titleHandler(event){var value=event.type===\"submit\"?\"\":event.target.value;setTitle(value);};var amountHandler=function amountHandler(event){var value=event.type===\"submit\"?\"\":event.target.value;setAmount(value);};var dateHandler=function dateHandler(event){var value=event.type===\"submit\"?\"\":event.target.value;setDate(value);};var categoryHandler=function categoryHandler(event){var value=event.type===\"submit\"?\"other\":event.target.value;setCategory(value);};var uploadFile=function uploadFile(event){if(event.type===\"submit\"){debugger;event.target.value=\"\";return;}setBill(event.target.files[0]);};var submitHandler=function submitHandler(event){event.preventDefault();dispatch(AddExpence({title:title,amount:amount,date:date,category:category,bill:bill}));dispatch(ExpencesAction.filter({year:new Date(date).getFullYear().toString(),category:category}));titleHandler(event);amountHandler(event);dateHandler(event);categoryHandler(event);uploadFile(event);};return/*#__PURE__*/_jsx(Card,{className:\"new-expense\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:submitHandler,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"new-expense__controls\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"new-expense__control\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:title,onChange:titleHandler,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"new-expense__control\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Amount\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"0.01\",value:amount,step:\"0.01\",onChange:amountHandler,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"new-expense__control\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",min:\"2019-01-01\",value:date,max:\"2022-12-31\",onChange:dateHandler,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"new-expense__control\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Filter by Catagory\"}),/*#__PURE__*/_jsxs(\"select\",{onChange:categoryHandler,children:[/*#__PURE__*/_jsx(\"option\",{value:\"other\",children:\"Other\"}),/*#__PURE__*/_jsx(\"option\",{value:\"fuel\",children:\"Fuel\"}),/*#__PURE__*/_jsx(\"option\",{value:\"personal\",children:\"Personal\"}),/*#__PURE__*/_jsx(\"option\",{value:\"food\",children:\"Food\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"new-expense__control\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Upload Bill\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:uploadFile})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"new-expense__actions\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Add Expense\"})})]})});}export default NewExpense;","map":{"version":3,"sources":["/home/yta-odoo/Documents/expence-tracker/src/components/Expences/NewExpense.js"],"names":["useState","useDispatch","Card","AddExpence","ExpencesAction","NewExpense","props","title","setTitle","amount","setAmount","date","setDate","category","setCategory","bill","setBill","dispatch","titleHandler","event","value","type","target","amountHandler","dateHandler","categoryHandler","uploadFile","files","submitHandler","preventDefault","filter","year","Date","getFullYear","toString"],"mappings":"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","sourcesContent":["import { useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\n\nimport Card from \"./UI/Card\";\nimport \"./NewExpense.css\";\nimport { AddExpence } from \"../../store/expences-slice\";\nimport { ExpencesAction } from \"../../store/expences-slice\";\n\nfunction NewExpense(props) {\n  const [title, setTitle] = new useState(\"\");\n  const [amount, setAmount] = new useState(\"\");\n  const [date, setDate] = new useState(\"\");\n  const [category, setCategory] = new useState(\"other\");\n  const [bill, setBill] = new useState(null);\n  const dispatch = useDispatch();\n\n  const titleHandler = (event) => {\n    let value = event.type === \"submit\" ? \"\" : event.target.value;\n    setTitle(value);\n  };\n\n  const amountHandler = (event) => {\n    let value = event.type === \"submit\" ? \"\" : event.target.value;\n    setAmount(value);\n  };\n\n  const dateHandler = (event) => {\n    let value = event.type === \"submit\" ? \"\" : event.target.value;\n    setDate(value);\n  };\n\n  const categoryHandler = (event) => {\n    let value = event.type === \"submit\" ? \"other\" : event.target.value;\n    setCategory(value);\n  };\n\n  const uploadFile = (event) => {\n    if (event.type === \"submit\") {\n        debugger\n      event.target.value = \"\";\n      return;\n    }\n    setBill(event.target.files[0]);\n  };\n\n  const submitHandler = (event) => {\n    event.preventDefault();\n    dispatch(\n      AddExpence({\n        title: title,\n        amount: amount,\n        date: date,\n        category: category,\n        bill: bill,\n      })\n    );\n    dispatch(\n      ExpencesAction.filter({\n        year: new Date(date).getFullYear().toString(),\n        category: category,\n      })\n    );\n    titleHandler(event);\n    amountHandler(event);\n    dateHandler(event);\n    categoryHandler(event);\n    uploadFile(event);\n  };\n\n  return (\n    <Card className=\"new-expense\">\n      <form onSubmit={submitHandler}>\n        <div className=\"new-expense__controls\">\n          <div className=\"new-expense__control\">\n            <label>Title</label>\n            <input type=\"text\" value={title} onChange={titleHandler} required />\n          </div>\n          <div className=\"new-expense__control\">\n            <label>Amount</label>\n            <input\n              type=\"number\"\n              min=\"0.01\"\n              value={amount}\n              step=\"0.01\"\n              onChange={amountHandler}\n              required\n            />\n          </div>\n          <div className=\"new-expense__control\">\n            <label>Date</label>\n            <input\n              type=\"date\"\n              min=\"2019-01-01\"\n              value={date}\n              max=\"2022-12-31\"\n              onChange={dateHandler}\n              required\n            />\n          </div>\n          <div className=\"new-expense__control\">\n            <label>Filter by Catagory</label>\n            <select onChange={categoryHandler}>\n              {/* <option value='select_category'>Select Category</option> */}\n              <option value=\"other\">Other</option>\n              <option value=\"fuel\">Fuel</option>\n              <option value=\"personal\">Personal</option>\n              <option value=\"food\">Food</option>\n            </select>\n          </div>\n          <div className=\"new-expense__control\">\n            <label>Upload Bill</label>\n            <input type=\"file\" onChange={uploadFile} />\n          </div>\n        </div>\n        <div className=\"new-expense__actions\">\n          <button type=\"submit\">Add Expense</button>\n        </div>\n      </form>\n    </Card>\n  );\n}\n\nexport default NewExpense;\n"]},"metadata":{},"sourceType":"module"}