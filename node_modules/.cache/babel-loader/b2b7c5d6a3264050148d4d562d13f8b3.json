{"ast":null,"code":"import{useRef,useContext}from'react';import classes from'./ProfileForm.module.css';import AuthContext from'../../store/AuthContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ProfileForm=function ProfileForm(){var passwordRef=useRef();var ctx=useContext(AuthContext);var onSubmithandler=function onSubmithandler(ev){ev.preventDefault();fetch(\"https://identitytoolkit.googleapis.com/v1/accounts:update?key=AIzaSyDkyHz1CTqvoZKQHlZqcOmhjNwnAzH2HJo\",{method:\"POST\",body:JSON.stringify({idToken:ctx.idToken,password:passwordRef.current.value,returnSecureToken:true}),headers:{'Content-Type':\"application/json\"}}).then(function(res){if(res.ok){return res.json();}else{throw new Error(\"there is some issue while re-set password\");}}).then(function(data){passwordRef.current.value=\"\";ctx.onResetPassword(data.idToken);alert(\"successfully changed your password\");}).catch(function(error){alert(error);});};return/*#__PURE__*/_jsxs(\"form\",{className:classes.form,onSubmit:onSubmithandler,children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.control,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"new-password\",children:\"New Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"new-password\",ref:passwordRef})]}),/*#__PURE__*/_jsx(\"div\",{className:classes.action,children:/*#__PURE__*/_jsx(\"button\",{children:\"Change Password\"})})]});};export default ProfileForm;","map":{"version":3,"sources":["/home/yta-odoo/Documents/pic/recat practice/expence-tracker/src/components/Profile/ProfileForm.js"],"names":["useRef","useContext","classes","AuthContext","ProfileForm","passwordRef","ctx","onSubmithandler","ev","preventDefault","fetch","method","body","JSON","stringify","idToken","password","current","value","returnSecureToken","headers","then","res","ok","json","Error","data","onResetPassword","alert","catch","error","form","control","action"],"mappings":"AAAA,OAASA,MAAT,CAAiBC,UAAjB,KAAmC,OAAnC,CAEA,MAAOC,CAAAA,OAAP,KAAoB,0BAApB,CACA,MAAOC,CAAAA,WAAP,KAAwB,yBAAxB,C,wFAGA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACxB,GAAMC,CAAAA,WAAW,CAAGL,MAAM,EAA1B,CACA,GAAMM,CAAAA,GAAG,CAAGL,UAAU,CAACE,WAAD,CAAtB,CAEA,GAAMI,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,EAAD,CAAQ,CAC9BA,EAAE,CAACC,cAAH,GACAC,KAAK,CAAC,uGAAD,CACL,CACEC,MAAM,CAAE,MADV,CAEEC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACnBC,OAAO,CAAET,GAAG,CAACS,OADM,CAEnBC,QAAQ,CAAEX,WAAW,CAACY,OAAZ,CAAoBC,KAFX,CAGnBC,iBAAiB,CAAE,IAHA,CAAf,CAFR,CAOEC,OAAO,CAAE,CACP,eAAgB,kBADT,CAPX,CADK,CAAL,CAWGC,IAXH,CAWQ,SAACC,GAAD,CAAS,CACf,GAAIA,GAAG,CAACC,EAAR,CAAY,CACV,MAAOD,CAAAA,GAAG,CAACE,IAAJ,EAAP,CACD,CAFD,IAEM,CACJ,KAAM,IAAIC,CAAAA,KAAJ,CAAU,2CAAV,CAAN,CACD,CACF,CAjBD,EAiBGJ,IAjBH,CAiBQ,SAAAK,IAAI,CAAI,CACdrB,WAAW,CAACY,OAAZ,CAAoBC,KAApB,CAA4B,EAA5B,CACAZ,GAAG,CAACqB,eAAJ,CAAoBD,IAAI,CAACX,OAAzB,EACAa,KAAK,CAAC,oCAAD,CAAL,CACD,CArBD,EAqBGC,KArBH,CAqBS,SAACC,KAAD,CAAW,CAClBF,KAAK,CAACE,KAAD,CAAL,CACD,CAvBD,EAwBD,CA1BD,CA4BA,mBACE,cAAM,SAAS,CAAE5B,OAAO,CAAC6B,IAAzB,CAA+B,QAAQ,CAAExB,eAAzC,wBACE,aAAK,SAAS,CAAEL,OAAO,CAAC8B,OAAxB,wBACE,cAAO,OAAO,CAAC,cAAf,0BADF,cAEE,cAAO,IAAI,CAAC,UAAZ,CAAuB,EAAE,CAAC,cAA1B,CAAyC,GAAG,CAAE3B,WAA9C,EAFF,GADF,cAKE,YAAK,SAAS,CAAEH,OAAO,CAAC+B,MAAxB,uBACE,2CADF,EALF,GADF,CAWD,CA3CD,CA6CA,cAAe7B,CAAAA,WAAf","sourcesContent":["import { useRef, useContext } from 'react';\n\nimport classes from './ProfileForm.module.css';\nimport AuthContext from '../../store/AuthContext';\n\n\nconst ProfileForm = () => {\n  const passwordRef = useRef();\n  const ctx = useContext(AuthContext);\n\n  const onSubmithandler = (ev) => {\n    ev.preventDefault()\n    fetch(\"https://identitytoolkit.googleapis.com/v1/accounts:update?key=AIzaSyDkyHz1CTqvoZKQHlZqcOmhjNwnAzH2HJo\",\n    {\n      method: \"POST\",\n      body: JSON.stringify({\n        idToken: ctx.idToken,\n        password: passwordRef.current.value,\n        returnSecureToken: true\n      }),\n      headers: {\n        'Content-Type': \"application/json\"\n      }\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }else {\n        throw new Error(\"there is some issue while re-set password\")\n      }\n    }).then(data => {\n      passwordRef.current.value = \"\";\n      ctx.onResetPassword(data.idToken)\n      alert(\"successfully changed your password\");\n    }).catch((error) => {\n      alert(error)\n    }) \n  };\n\n  return (\n    <form className={classes.form} onSubmit={onSubmithandler}>\n      <div className={classes.control}>\n        <label htmlFor='new-password'>New Password</label>\n        <input type='password' id='new-password' ref={passwordRef}/>\n      </div>\n      <div className={classes.action}>\n        <button>Change Password</button>\n      </div>\n    </form>\n  );\n}\n\nexport default ProfileForm;\n"]},"metadata":{},"sourceType":"module"}